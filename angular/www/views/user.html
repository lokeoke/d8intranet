<div ng-controller="singleUserController" class="user-page">

  <div class="page-bg">
    <div class="welcome-block">
      <img ng-src="{{user.user_picture[0].url}}"
           err-SRC="images/anonymus.png"
           alt="{{user.field_first_name[0].value}} {{user.field_last_name[0].value}}"/>

      <div class="name">
        {{user.field_first_name[0].value}} {{user.field_last_name[0].value}}
      </div>
      <div class="position">
        {{user.field_user_position[0].value}}
      </div>
    </div>
  </div>
  <div class="page-container">
    <div class="page-content">
      <h1>Employee data</h1>


      <div class="user-info">
        <div class="user-data-group">
          <span class="user-info-title">Position</span>
            <span
                class="user-info-value">{{user.field_position[0].name}}</span>
        </div>

        <div class="user-data-group">
          <span class="user-info-title">First name</span>
            <span
                class="user-info-value">{{user.field_first_name[0].value}}</span>
        </div>

        <div class="user-data-group">
          <span class="user-info-title">Last name</span>
            <span
                class="user-info-value">{{user.field_last_name[0].value}}</span>
        </div>

        <div class="user-data-group">
          <span class="user-info-title">Birthday: </span>
            <span
                class="user-info-value">{{userBirthday}}</span>
        </div>

        <div class="user-data-group">
          <span class="user-info-title">E-mail: </span>
        <span class="user-info-value"><a
            ng-href="mailto:{{user.field_user_email[0].value}}">{{user.field_user_email[0].value}}</a></span>
        </div>

        <div class="user-data-group">
          <span class="user-info-title">Mobile: </span>
            <span
                class="user-info-value">{{user.field_phone_number[0].value}}</span>
        </div>

        <div class="user-data-group">
          <span class="user-info-title">Skype: </span>
            <span
                class="user-info-value">{{user.field_user_skype[0].value}}</span>
        </div>

        <div class="user-data-group"
             ng-show="user.field_user_edu[0].value.length">
          <span class="user-info-title">Education: </span>
            <span
                class="user-info-value">{{user.field_user_edu[0].value}}</span>
        </div>
      </div>

      <div class="user-social-data">
        <div class="experience">
          Working at company:
          <span ng-if="yearsOfWork != 0"> {{yearsOfWork + ' year' | plural}} </span>
          <span ng-if="monthsOfWork != 0"> {{monthsOfWork + ' month' | plural}} </span>
          <span ng-if="monthsOfWork == 0"> Less than one month ago </span>
        </div>
        <div class="social-list" ng-cloak>
          <h3>Social</h3>
          <span  ng-hide="user.field_github_id.length != 0 ||
                     user.field_drupal_org_id.length != 0 ||
                     user.field_facebook.length != 0 ||
                     user.field_google_plus.length != 0 ||
                     user.field_linkedin.length != 0 ||
                     user.field_twitter.length != 0">
            Seems this user is sociopath :)
          </span>
          
          <ul class="font-icon">
            <li class="icon" ng-if="user.field_github_id.length != 0">
              <a ng-href="{{user.field_github_id[0].value}}" class="github-icon" target="_blank"></a>
            </li>
            <li class="icon" ng-if="user.field_drupal_org_id.length != 0">
              <a ng-href="{{user.field_drupal_org_id[0].value}}" class="drupal-icon" target="_blank"></a>
            </li>
            <li class="icon" ng-if="user.field_facebook.length != 0">
              <a ng-href="{{user.field_facebook[0].value}}" class="facebook-icon" target="_blank"></a>
            </li>
            <li class="icon" ng-if="user.field_google_plus.length != 0">
              <a ng-href="{{user.field_google_plus[0].value}}" class="gplus-icon" target="_blank"></a>
            </li>
            <li class="icon" ng-if="user.field_linkedin.length != 0">
              <a ng-href="{{user.field_linkedin[0].value}}" class="linkedin-icon" target="_blank"></a>
            </li>
            <li class="icon" ng-if="user.field_twitter.length != 0">
              <a ng-href="{{user.field_twitter[0].value}}" class="twitter-icon" target="_blank"></a>
            </li>

          </ul>
        </div>
      </div>
    </div>

    <section class="my-holidays group">
      <h1 class="user-statistics">{{user.field_first_name[0].value}}'s
        statistics: </h1>

      <div class="user-statistic">
        <div class="holiday-block" ng-repeat="(key, value) in filteredKeys">

          <div class="vacation-days-left" ng-if="key == 'Vacation'">Left:
            {{vacationDaysLeft}}
          </div>

          <div class="vacation-left" ng-if="key == 'Vacation'">
            <div vacations-left data-days-left="{{vacationDaysLeft}}"
                 data-days-total="{{totalVacationDays}}"
                 class="vacation-left-progress">&nbsp;</div>
          </div>

          <div class="holiday-info-wrapper">
            <h3 class="holiday-title">{{key}}</h3>

            <div class="days-count" ng-if="key == 'Vacation'">{{value.totalVacationYear}}
              <span>of</span> {{totalVacationDays}}
            </div>
            <div class="days-count" ng-if="key != 'Vacation'">{{value.totalDaysYear}}</div>
          </div>
        </div>
      </div>
    </section>

    <div class="more-come-soon">
      More functionality will come...
    </div>
  </div>
</div>
